!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1);window.onload=function(e){var r=new n.default,t=r.generate(!0);console.log(t);var o=r.deal(t);console.log(o,t);o=r.deal(t,!0);console.log(o,t);o=r.deal(t,!1,!0);console.log(o,t);o=r.deal(t,!0,!0);console.log(o,t)}},function(e,r,t){"use strict";var n=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,l=t.call(e),a=[];try{for(;(void 0===r||r-- >0)&&!(n=l.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=l.return)&&t.call(l)}finally{if(o)throw o.error}}return a};Object.defineProperty(r,"__esModule",{value:!0});var l=t(2),a=t(3),i=function(){function e(){}return e.prototype.generate=function(e){var r,t,o,i;void 0===e&&(e=!1);var u=new Array,c=[a.SUIT_C,a.SUIT_D,a.SUIT_H,a.SUIT_S];e&&c.push(a.SUIT_B,a.SUIT_R);var f=[2,3,4,5,6,7,8,9,10,11,12,13,14];try{for(var s=n(l.forIndex(c)),d=s.next();!d.done;d=s.next()){var _=d.value,y=_.item,p=_.index;try{for(var v=(o=void 0,n(f)),b=v.next();!b.done;b=v.next()){var h=b.value;if(-1!==[a.SUIT_B,a.SUIT_R].indexOf(y)&&(h=a.VALU_J),u.push({color:-1==[a.SUIT_D,a.SUIT_H,a.SUIT_R].indexOf(y)?a.COLO_B:a.COLO_R,html:""+a.HTML_BOCARD+y[0].toUpperCase()+h,rank:this._calculate_rank({suit_i:p,value:h}),suit:y,value:h}),-1!==[a.SUIT_B,a.SUIT_R].indexOf(y))break}}catch(e){o={error:e}}finally{try{b&&!b.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}}}catch(e){r={error:e}}finally{try{d&&!d.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}return this._shuffle(u)},e.prototype.deal=function(e,r,t){return void 0===r&&(r=!1),void 0===t&&(t=!1),r?t?e.pop():e.shift():t?e.slice(-1)[0]:e[0]},e.prototype._calculate_rank=function(e){var r=e.suit_i;return 4*(e.value-2)+r},e.prototype._shuffle=function(e){for(var r,t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1));r=o([e[n],e[t]],2),e[t]=r[0],e[n]=r[1]}return e},e}();r.default=i},function(e,r,t){"use strict";var n=this&&this.__generator||function(e,r){var t,n,o,l,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,n&&(o=2&l[0]?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[2&l[0],o.value]),l[0]){case 0:case 1:o=l;break;case 4:return a.label++,{value:l[1],done:!1};case 5:a.label++,n=l[1],l=[0];continue;case 7:l=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===l[0]||2===l[0])){a=0;continue}if(3===l[0]&&(!o||l[1]>o[0]&&l[1]<o[3])){a.label=l[1];break}if(6===l[0]&&a.label<o[1]){a.label=o[1],o=l;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(l);break}o[2]&&a.ops.pop(),a.trys.pop();continue}l=r.call(e,a)}catch(e){l=[6,e],n=0}finally{t=o=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},o=this&&this.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r,"__esModule",{value:!0}),r.forIndex=function(e){var r,t,l,a,i,u;return n(this,(function(n){switch(n.label){case 0:r=0,n.label=1;case 1:n.trys.push([1,6,7,8]),t=o(e),l=t.next(),n.label=2;case 2:return l.done?[3,5]:[4,{item:l.value,index:r}];case 3:n.sent(),r++,n.label=4;case 4:return l=t.next(),[3,2];case 5:return[3,8];case 6:return a=n.sent(),i={error:a},[3,8];case 7:try{l&&!l.done&&(u=t.return)&&u.call(t)}finally{if(i)throw i.error}return[7];case 8:return[2]}}))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SUIT_H="hearts",r.SUIT_S="spades",r.SUIT_C="clubs",r.SUIT_D="diamonds",r.SUIT_B="blackjoker",r.SUIT_R="redjoker",r.COLO_R="red",r.COLO_B="black",r.VALU_J=14,r.HTML_BOCARD="buzzonline__playingcard_",r.CONS_ERR_AUDIO_NOT_INSTANTIATABLE="Could not instantiate audio engine. Audio is not supported.",r.AUDIO_EXT="wav"}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV9tYXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV9jYXJkcy50cyIsIndlYnBhY2s6Ly8vLi90cy9idXp6b25saW5lX2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV92YXJzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93Iiwib25sb2FkIiwiX2UiLCJjYXJkcyIsImNhcmRzdGFjayIsImdlbmVyYXRlIiwiY29uc29sZSIsImxvZyIsImNhcmQiLCJkZWFsIiwiam9rZXJzIiwiY2FyZFN0YWNrIiwiQXJyYXkiLCJzdWl0cyIsIl92IiwiU1VJVF9DIiwiU1VJVF9EIiwiU1VJVF9IIiwiU1VJVF9TIiwicHVzaCIsIlNVSVRfQiIsIlNVSVRfUiIsInZhbHVlcyIsImZvckluZGV4IiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsIlZBTFVfSiIsImNvbG9yIiwiQ09MT19CIiwiQ09MT19SIiwiaHRtbCIsIkhUTUxfQk9DQVJEIiwidG9VcHBlckNhc2UiLCJyYW5rIiwidGhpcyIsIl9jYWxjdWxhdGVfcmFuayIsInN1aXRfaSIsInN1aXQiLCJfc2h1ZmZsZSIsImRlbGV0ZUNhcmRGcm9tU3RhY2siLCJnZXRGcm9tRW5kIiwicG9wIiwic2hpZnQiLCJzbGljZSIsInN0YWNrIiwibGVuZ3RoIiwiaiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIml0ZW1zIiwiQ09OU19FUlJfQVVESU9fTk9UX0lOU1RBTlRJQVRBQkxFIiwiQVVESU9fRVhUIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVB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T0FBUSxHQURzQixFQUFBcEQsTUFDVCxHQUFNb0QsR0FHdkIsWUFBQUUsU0FBUixTQUFpQk0sR0FDYixJLE1BQVM3RSxFQUFJNkUsRUFBTUMsT0FBUyxFQUFHOUUsRUFBSSxFQUFHQSxJQUFLLENBQ3ZDLElBQU0rRSxFQUFJQyxLQUFLQyxNQUFNRCxLQUFLRSxVQUFZbEYsRUFBSSxJQUMxQyxtQkFBQzZFLEVBQU03RSxHQUFOLEtBQVU2RSxFQUFNRSxHQUFOLEtBRWYsT0FBT0YsR0FFZixFQXZFQSxHLCs5Q0NKQSxvQkFBNkJNLEcsa0VBQ3JCMUIsRUFBZ0IsRSx3Q0FDRixJQUFBMEIsR0FBSyxXLHFDQUNuQixHQUFNLENBQUMzQixLQURHLFFBQ0dDLE1BQUssSSxPQUFsQixTQUNBQSxJLGdTQ09LLEVBQUFSLE9BQXdCLFNBQ3hCLEVBQUFDLE9BQXdCLFNBQ3hCLEVBQUFILE9BQXdCLFFBQ3hCLEVBQUFDLE9BQXdCLFdBQ3hCLEVBQUFJLE9BQXdCLGFBQ3hCLEVBQUFDLE9BQXdCLFdBRXhCLEVBQUFTLE9BQXdCLE1BQ3hCLEVBQUFELE9BQXdCLFFBRXhCLEVBQUFGLE9BQXdCLEdBRXhCLEVBQUFLLFlBQXdCLDJCQUt4QixFQUFBb0Isa0NBQTRDLDhEQUc1QyxFQUFBQyxVQUFZIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8qKlxyXG4gKiBCdXp6T25saW5lIC0gVGhlIEFpckNvbnNvbGUgQWRhcHRhaW9uXHJcbiAqIGJ5IFBvd2VyIG9mIEludGVyZXN0IC0gMjAxOVxyXG4gKlxyXG4gKi9cclxuaW1wb3J0IENhcmRzIGZyb20gXCIuL2J1enpvbmxpbmVfY2FyZHNcIjtcclxuXHJcbndpbmRvdy5vbmxvYWQgPSAoX2U6IEV2ZW50KSA9PiB7XHJcbiAgICB2YXIgY2FyZHMgPSBuZXcgQ2FyZHMoKTtcclxuICAgIHZhciBjYXJkc3RhY2sgPSBjYXJkcy5nZW5lcmF0ZSh0cnVlKVxyXG4gICAgY29uc29sZS5sb2coY2FyZHN0YWNrKTtcclxuICAgIHZhciBjYXJkID0gY2FyZHMuZGVhbChjYXJkc3RhY2spO1xyXG4gICAgY29uc29sZS5sb2coY2FyZCwgY2FyZHN0YWNrKTtcclxuICAgIHZhciBjYXJkID0gY2FyZHMuZGVhbChjYXJkc3RhY2ssIHRydWUpO1xyXG4gICAgY29uc29sZS5sb2coY2FyZCwgY2FyZHN0YWNrKTtcclxuICAgIHZhciBjYXJkID0gY2FyZHMuZGVhbChjYXJkc3RhY2ssIGZhbHNlLCB0cnVlKTtcclxuICAgIGNvbnNvbGUubG9nKGNhcmQsIGNhcmRzdGFjayk7XHJcbiAgICB2YXIgY2FyZCA9IGNhcmRzLmRlYWwoY2FyZHN0YWNrLCB0cnVlLCB0cnVlKTtcclxuICAgIGNvbnNvbGUubG9nKGNhcmQsIGNhcmRzdGFjayk7XHJcbn1cclxuIiwiaW1wb3J0IHsgZm9ySW5kZXggfSBmcm9tIFwiLi9idXp6b25saW5lX2hlbHBlcnNcIjtcclxuaW1wb3J0ICogYXMgX3YgZnJvbSBcIi4vYnV6em9ubGluZV92YXJzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9idXp6b25saW5lX2ludGVyZmFjZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmRzIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBhIG5ldyBzaHVmZmxlZCBkZWNrIG9mIGNhcmRzXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbam9rZXJzPWZhbHNlXSBBZGQgSm9rZXJzIHRvIHRoZSBkZWNrLiBEZWZhdWx0IGBmYWxzZWAuXHJcbiAgICAgKiBAcmV0dXJucyB7Q2FyZFtdfVxyXG4gICAgICogQG1lbWJlcm9mIENhcmRzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZW5lcmF0ZShqb2tlcnM6IGJvb2xlYW4gPSBmYWxzZSk6IENhcmRbXSB7XHJcbiAgICAgICAgdmFyIGNhcmRTdGFjazogQ2FyZFtdID0gbmV3IEFycmF5KCk7XHJcblxyXG4gICAgICAgIC8qIERlY2xhcmUgU3VpdHMgKi9cclxuICAgICAgICB2YXIgc3VpdHM6IHN0cmluZ1tdID0gW192LlNVSVRfQywgX3YuU1VJVF9ELCBfdi5TVUlUX0gsIF92LlNVSVRfU107XHJcblxyXG4gICAgICAgIC8qIEFkZCBKb2tlcnMgdG8gc3VpdHMgKi9cclxuICAgICAgICBpZihqb2tlcnMpXHJcbiAgICAgICAgICAgIHN1aXRzLnB1c2goX3YuU1VJVF9CLCBfdi5TVUlUX1IpO1xyXG5cclxuICAgICAgICAvKiBEZWNsYXJlIFZhbHVlcyAqL1xyXG4gICAgICAgIHZhciB2YWx1ZXM6IG51bWJlcltdID0gWzIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNF07XHJcblxyXG4gICAgICAgIC8qIGl0ZW06IHN1aXQgKi9cclxuICAgICAgICBmb3IoY29uc3Qge2l0ZW0sIGluZGV4fSBvZiBmb3JJbmRleChzdWl0cykpIHtcclxuICAgICAgICAgICAgZm9yKGxldCB2YWx1ZSBvZiB2YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIC8qIFNldCB0aGUgSk9LRVIgdmFsdWUgaWYgdGhlIHN1aXQgaXMgb2YgdHlwZSBqb2tlciAqL1xyXG4gICAgICAgICAgICAgICAgaWYoW192LlNVSVRfQiwgX3YuU1VJVF9SXS5pbmRleE9mKGl0ZW0pICE9PSAtMSkgdmFsdWUgPSBfdi5WQUxVX0o7XHJcblxyXG4gICAgICAgICAgICAgICAgLyogUHVzaCB0aGUgY2FyZCBvbnRvIHRoZSBkZWNrICovXHJcbiAgICAgICAgICAgICAgICBjYXJkU3RhY2sucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFtfdi5TVUlUX0QsIF92LlNVSVRfSCwgX3YuU1VJVF9SXS5pbmRleE9mKGl0ZW0pID09IC0xID8gX3YuQ09MT19CIDogX3YuQ09MT19SLFxyXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGAke192LkhUTUxfQk9DQVJEfSR7aXRlbVswXS50b1VwcGVyQ2FzZSgpfSR7dmFsdWV9YCxcclxuICAgICAgICAgICAgICAgICAgICByYW5rOiB0aGlzLl9jYWxjdWxhdGVfcmFuayh7IHN1aXRfaTogaW5kZXgsIHZhbHVlIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1aXQ6IGl0ZW0sXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBFbmQgdGhlIGxvb3AgYWZ0ZXIgMSBjYXJkIGlmIEpva2VycyBhcmUgYmVpbmcgZ2VuZXJhdGVkICovXHJcbiAgICAgICAgICAgICAgICBpZihbX3YuU1VJVF9CLCBfdi5TVUlUX1JdLmluZGV4T2YoaXRlbSkgIT09IC0xKSBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fc2h1ZmZsZShjYXJkU3RhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVhbCBhIGNhcmQgZnJvbSB0aGUgcHJvdmlkZWQgZGVjay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0NhcmRbXX0gY2FyZFN0YWNrIFRoZSBkZWNrIHRvIGRlYWwgYSBjYXJkIGZyb21cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlbGV0ZUNhcmRGcm9tU3RhY2s9ZmFsc2VdIERlbGV0ZSB0aGUgY2FyZCBmcm9tIHRoZSBkZWNrIGFmdGVyIGRlYWxpbmcgaXQuIERlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2dldEZyb21FbmQ9ZmFsc2VdIEdldCB0aGUgY2FyZCBmcm9tIHRoZSBib3R0b20gKGVuZCkgb2YgdGhlIGRlY2suIERlZmF1bHQgYGZhbHNlYC5cclxuICAgICAqIEByZXR1cm5zIHtDYXJkfSBjYXJkXHJcbiAgICAgKiBAbWVtYmVyb2YgQ2FyZHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIGRlYWwoY2FyZFN0YWNrOiBDYXJkW10sIGRlbGV0ZUNhcmRGcm9tU3RhY2s6IGJvb2xlYW4gPSBmYWxzZSwgZ2V0RnJvbUVuZDogYm9vbGVhbiA9IGZhbHNlKTogQ2FyZCB7XHJcbiAgICAgICAgaWYoZGVsZXRlQ2FyZEZyb21TdGFjaylcclxuICAgICAgICAgICAgcmV0dXJuIGdldEZyb21FbmQgPyBjYXJkU3RhY2sucG9wKCkgOiBjYXJkU3RhY2suc2hpZnQoKTsgICAvL1JlbW92ZXMgdGhlIGNhcmQgZnJvbSB0aGUgc3RhY2sgYXJyYXksIHRoZW4gcmV0dXJucyBpdFxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIGdldEZyb21FbmQgPyBjYXJkU3RhY2suc2xpY2UoLTEpWzBdIDogY2FyZFN0YWNrWzBdOyAvL1JldHVybnMgdGhlIGNhcmQgZnJvbSB0aGUgc3RhY2sgYXJyYXlcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9jYWxjdWxhdGVfcmFuayh7IHN1aXRfaSwgdmFsdWUgfTogeyBzdWl0X2k6IG51bWJlcjsgdmFsdWU6IG51bWJlcjsgfSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuICg0ICogKHZhbHVlIC0gMikpICsgc3VpdF9pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3NodWZmbGUoc3RhY2s6IEFycmF5PENhcmQ+KTogQXJyYXk8Q2FyZD4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTtcclxuICAgICAgICAgICAgW3N0YWNrW2ldLCBzdGFja1tqXV0gPSBbc3RhY2tbal0sIHN0YWNrW2ldXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0YWNrO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGZ1bmN0aW9uKiBmb3JJbmRleDxUPihpdGVtczogVFtdIHwgSXRlcmFibGVJdGVyYXRvcjxUPikge1xyXG4gICAgbGV0IGluZGV4OiBudW1iZXIgPSAwO1xyXG4gICAgZm9yKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcclxuICAgICAgICB5aWVsZCB7aXRlbSwgaW5kZXh9O1xyXG4gICAgICAgIGluZGV4Kys7XHJcbiAgICB9XHJcbn0iLCIvKiBWYXJpYWJsZXMgdXNlZCBpbiBCdXp6T25saW5lICovXHJcblxyXG4vKioqKlxyXG4gICAgKlxyXG4gICAgKlxyXG4gICAgKiBDb25zdGFudHMgLSBUZXh0cywgY29uc3RhbnQgbnVtYmVycyBhbmQgY29uZmlndXJhYmxlIGdhbWUgb3B0aW9uc1xyXG4gICAgKlxyXG4gICAgKlxyXG4qKioqL1xyXG5cclxuLyogU3RhbmRhcmQgVGV4dHMgKi9cclxuZXhwb3J0IGNvbnN0IFNVSVRfSDogICAgICAgIHN0cmluZyA9IFwiaGVhcnRzXCI7XHJcbmV4cG9ydCBjb25zdCBTVUlUX1M6ICAgICAgICBzdHJpbmcgPSBcInNwYWRlc1wiO1xyXG5leHBvcnQgY29uc3QgU1VJVF9DOiAgICAgICAgc3RyaW5nID0gXCJjbHVic1wiO1xyXG5leHBvcnQgY29uc3QgU1VJVF9EOiAgICAgICAgc3RyaW5nID0gXCJkaWFtb25kc1wiO1xyXG5leHBvcnQgY29uc3QgU1VJVF9COiAgICAgICAgc3RyaW5nID0gXCJibGFja2pva2VyXCI7XHJcbmV4cG9ydCBjb25zdCBTVUlUX1I6ICAgICAgICBzdHJpbmcgPSBcInJlZGpva2VyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQ09MT19SOiAgICAgICAgc3RyaW5nID0gXCJyZWRcIjtcclxuZXhwb3J0IGNvbnN0IENPTE9fQjogICAgICAgIHN0cmluZyA9IFwiYmxhY2tcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBWQUxVX0o6ICAgICAgICBudW1iZXIgPSAxNDtcclxuXHJcbmV4cG9ydCBjb25zdCBIVE1MX0JPQ0FSRDogICBzdHJpbmcgPSBcImJ1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1wiO1xyXG5cclxuLyogUGxheWVyIFByb21wdHMgKi9cclxuXHJcbi8qIENvbnNvbGUgUHJvbXB0cyAvIERlYnVnZ2luZyAqL1xyXG5leHBvcnQgY29uc3QgQ09OU19FUlJfQVVESU9fTk9UX0lOU1RBTlRJQVRBQkxFOiBzdHJpbmcgPSBcIkNvdWxkIG5vdCBpbnN0YW50aWF0ZSBhdWRpbyBlbmdpbmUuIEF1ZGlvIGlzIG5vdCBzdXBwb3J0ZWQuXCI7XHJcblxyXG4vKiBHYW1lIE9wdGlvbnMgKi9cclxuZXhwb3J0IGNvbnN0IEFVRElPX0VYVCA9ICd3YXYnO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9