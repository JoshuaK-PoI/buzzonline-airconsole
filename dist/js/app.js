!function(n){var e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=0)}([function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(1),o=r(4);window.onload=function(n){var e=new t.default,r=e.generate();console.log(r);var a=e.deal(r);console.log(a,r);a=e.deal(r,!0);console.log(a,r);a=e.deal(r,!1,!0);console.log(a,r);a=e.deal(r,!0,!0);console.log(a,r),(new AirConsole).getDeviceId,(new o.default).load(["buzzonline-Logo4x.png","cards/buzzonline__playingcard_back.png","cards/buzzonline__playingcard_C2.png","cards/buzzonline__playingcard_C3.png","cards/buzzonline__playingcard_C4.png","cards/buzzonline__playingcard_C5.png","cards/buzzonline__playingcard_C6.png","cards/buzzonline__playingcard_C7.png","cards/buzzonline__playingcard_C8.png","cards/buzzonline__playingcard_C9.png","cards/buzzonline__playingcard_C10.png","cards/buzzonline__playingcard_C11.png","cards/buzzonline__playingcard_C12.png","cards/buzzonline__playingcard_C13.png","cards/buzzonline__playingcard_C14.png","cards/buzzonline__playingcard_D2.png","cards/buzzonline__playingcard_D3.png","cards/buzzonline__playingcard_D4.png","cards/buzzonline__playingcard_D5.png","cards/buzzonline__playingcard_D6.png","cards/buzzonline__playingcard_D7.png","cards/buzzonline__playingcard_D8.png","cards/buzzonline__playingcard_D9.png","cards/buzzonline__playingcard_D10.png","cards/buzzonline__playingcard_D11.png","cards/buzzonline__playingcard_D12.png","cards/buzzonline__playingcard_D13.png","cards/buzzonline__playingcard_D14.png","cards/buzzonline__playingcard_H2.png","cards/buzzonline__playingcard_H3.png","cards/buzzonline__playingcard_H4.png","cards/buzzonline__playingcard_H5.png","cards/buzzonline__playingcard_H6.png","cards/buzzonline__playingcard_H7.png","cards/buzzonline__playingcard_H8.png","cards/buzzonline__playingcard_H9.png","cards/buzzonline__playingcard_H10.png","cards/buzzonline__playingcard_H11.png","cards/buzzonline__playingcard_H12.png","cards/buzzonline__playingcard_H13.png","cards/buzzonline__playingcard_H14.png","cards/buzzonline__playingcard_S2.png","cards/buzzonline__playingcard_S3.png","cards/buzzonline__playingcard_S4.png","cards/buzzonline__playingcard_S5.png","cards/buzzonline__playingcard_S6.png","cards/buzzonline__playingcard_S7.png","cards/buzzonline__playingcard_S8.png","cards/buzzonline__playingcard_S9.png","cards/buzzonline__playingcard_S10.png","cards/buzzonline__playingcard_S11.png","cards/buzzonline__playingcard_S12.png","cards/buzzonline__playingcard_S13.png","cards/buzzonline__playingcard_S14.png"],["playercorrect.wav","assignplayer.wav","completedistribution.wav","playermissed.wav","playerwrong.wav","startdistribution.wav","bgmusic.wav"])}},function(n,e,r){"use strict";var t=this&&this.__values||function(n){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&n[e],t=0;if(r)return r.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(n,e){var r="function"==typeof Symbol&&n[Symbol.iterator];if(!r)return n;var t,o,a=r.call(n),i=[];try{for(;(void 0===e||e-- >0)&&!(t=a.next()).done;)i.push(t.value)}catch(n){o={error:n}}finally{try{t&&!t.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i};Object.defineProperty(e,"__esModule",{value:!0});var a=r(2),i=r(3),l=function(){function n(){}return n.prototype.generate=function(n){var e,r,o,l;void 0===n&&(n=!1);var u=new Array,c=[i.SUIT_C,i.SUIT_D,i.SUIT_H,i.SUIT_S];n&&c.push(i.SUIT_B,i.SUIT_R);var s=[2,3,4,5,6,7,8,9,10,11,12,13,14];try{for(var d=t(a.forIndex(c)),_=d.next();!_.done;_=d.next()){var p=_.value,f=p.item,y=p.index;try{for(var h=(o=void 0,t(s)),b=h.next();!b.done;b=h.next()){var g=b.value;if(-1!==[i.SUIT_B,i.SUIT_R].indexOf(f)&&(g=i.VALU_J),u.push({color:-1==[i.SUIT_D,i.SUIT_H,i.SUIT_R].indexOf(f)?i.COLO_B:i.COLO_R,html:""+i.HTML_BOCARD+f[0].toUpperCase()+g,rank:this._calculate_rank({suit_i:y,value:g}),suit:f,value:g}),-1!==[i.SUIT_B,i.SUIT_R].indexOf(f))break}}catch(n){o={error:n}}finally{try{b&&!b.done&&(l=h.return)&&l.call(h)}finally{if(o)throw o.error}}}}catch(n){e={error:n}}finally{try{_&&!_.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}return this._shuffle(u)},n.prototype.deal=function(n,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),e?r?n.pop():n.shift():r?n.slice(-1)[0]:n[0]},n.prototype._calculate_rank=function(n){var e=n.suit_i;return 4*(n.value-2)+e},n.prototype._shuffle=function(n){for(var e,r=n.length-1;r>0;r--){var t=Math.floor(Math.random()*(r+1));e=o([n[t],n[r]],2),n[r]=e[0],n[t]=e[1]}return n},n}();e.default=l},function(n,e,r){"use strict";var t=this&&this.__generator||function(n,e){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(n,i)}catch(n){a=[6,n],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},o=this&&this.__values||function(n){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&n[e],t=0;if(r)return r.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.forIndex=function(n){var e,r,a,i,l,u;return t(this,(function(t){switch(t.label){case 0:e=0,t.label=1;case 1:t.trys.push([1,6,7,8]),r=o(n),a=r.next(),t.label=2;case 2:return a.done?[3,5]:[4,{item:a.value,index:e}];case 3:t.sent(),e++,t.label=4;case 4:return a=r.next(),[3,2];case 5:return[3,8];case 6:return i=t.sent(),l={error:i},[3,8];case 7:try{a&&!a.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}return[7];case 8:return[2]}}))}},function(n,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUIT_H="hearts",e.SUIT_S="spades",e.SUIT_C="clubs",e.SUIT_D="diamonds",e.SUIT_B="blackjoker",e.SUIT_R="redjoker",e.COLO_R="red",e.COLO_B="black",e.VALU_J=14,e.HTML_BOCARD="buzzonline__playingcard_",e.CONS_ERR_AUDIO_NOT_INSTANTIATABLE="Could not instantiate audio engine. Audio is not supported.",e.AUDIO_EXT="wav"},function(n,e,r){"use strict";var t=this&&this.__awaiter||function(n,e,r,t){return new(r||(r=Promise))((function(o,a){function i(n){try{u(t.next(n))}catch(n){a(n)}}function l(n){try{u(t.throw(n))}catch(n){a(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(i,l)}u((t=t.apply(n,e||[])).next())}))},o=this&&this.__generator||function(n,e){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(n,i)}catch(n){a=[6,n],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},a=this&&this.__values||function(n){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&n[e],t=0;if(r)return r.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var i=r(5),l=function(){function n(){this._audioLoader=new i.default,this._toLoad=this._loaded=0}return n.prototype.load=function(n,e){return t(this,void 0,void 0,(function(){var r;return o(this,(function(t){switch(t.label){case 0:return this._toLoad=n.length+e.length,[4,this._loadSounds(e)];case 1:return(r=0==t.sent())?[3,3]:[4,this._loadImages(n)];case 2:r=0==t.sent(),t.label=3;case 3:return r?[2,!1]:(this._loaded==this._toLoad&&this._audioLoader.play("bgmusic.wav",!0,1),[2,!0])}}))}))},n.prototype._loadSounds=function(n){return t(this,void 0,void 0,(function(){var e,r,t,i,l;return o(this,(function(o){try{for(e=a(n),r=e.next();!r.done;r=e.next()){if(t=r.value,!this._audioLoader.preload(t))return[2,!1];this._loaded++,this._updateProgressBar()}}catch(n){i={error:n}}finally{try{r&&!r.done&&(l=e.return)&&l.call(e)}finally{if(i)throw i.error}}return[2,!0]}))}))},n.prototype._loadImages=function(n){return t(this,void 0,void 0,(function(){var e,r,t,i,l,u,c,s=this;return o(this,(function(o){e=!1;try{for(r=a(n),t=r.next();!t.done;t=r.next())i=t.value,(l=new Image).src="./dist/img/"+i,l.onerror=function(){e=!0},l.onload=function(){s._loaded++,s._updateProgressBar()}}catch(n){u={error:n}}finally{try{t&&!t.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}}return[2,!e]}))}))},n.prototype._updateProgressBar=function(){document.querySelector(".loader--inner").style.width=this._loaded/this._toLoad*100+"%",document.querySelector(".loader--text").innerHTML="Loading... "+this._loaded+"/"+this._toLoad},n}();e.default=l},function(n,e,r){"use strict";var t=this&&this.__awaiter||function(n,e,r,t){return new(r||(r=Promise))((function(o,a){function i(n){try{u(t.next(n))}catch(n){a(n)}}function l(n){try{u(t.throw(n))}catch(n){a(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(i,l)}u((t=t.apply(n,e||[])).next())}))},o=this&&this.__generator||function(n,e){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(n,i)}catch(n){a=[6,n],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=r(6),i=function(){function n(){this._audioBuffer=[],this._audioContext=new AudioContext,this._audioGain=this._audioContext.createGain()}return n.prototype.preload=function(n){return t(this,void 0,void 0,(function(){var e,r=this;return o(this,(function(t){switch(t.label){case 0:return[4,(new a.default).fetch({method:"GET",uri:"./dist/audio/"+n,responseType:"arraybuffer"}).catch((function(n){throw console.error(n),Error("There was an error fetching the audio file.")}))];case 1:return e=t.sent(),this._audioContext.decodeAudioData(e,(function(n){r._audioBuffer.push(n)})),[2,!0]}}))}))},n.prototype.play=function(n,e,r){void 0===e&&(e=!1),void 0===r&&(r=.2);var t=this._audioContext.createBufferSource();t.buffer=this._audioBuffer[""+n],t.connect(this._audioGain),this._audioGain.connect(this._audioContext.destination),this._audioGain.gain.setValueAtTime(r,this._audioContext.currentTime),e&&(t.loop=!0),t.start(0)},n}();e.default=i},function(n,e,r){"use strict";var t=this&&this.__awaiter||function(n,e,r,t){return new(r||(r=Promise))((function(o,a){function i(n){try{u(t.next(n))}catch(n){a(n)}}function l(n){try{u(t.throw(n))}catch(n){a(n)}}function u(n){var e;n.done?o(n.value):(e=n.value,e instanceof r?e:new r((function(n){n(e)}))).then(i,l)}u((t=t.apply(n,e||[])).next())}))},o=this&&this.__generator||function(n,e){var r,t,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&a[0]?t.return:a[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,a[1])).done)return o;switch(t=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,t=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(n,i)}catch(n){a=[6,n],t=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function n(){}return n.prototype.fetch=function(n){return t(this,void 0,void 0,(function(){return o(this,(function(e){return[2,new Promise((function(e,r){var t=new XMLHttpRequest;t.responseType=n.responseType,t.open(n.method,n.uri,!0),t.send(),t.onreadystatechange=function(){t.readyState===t.DONE&&(t.status>=200&&t.status<300?e("text"==n.responseType?t.responseText:t.response):r(t.statusText))}}))]}))}))},n}();e.default=a}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV9tYXN0ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV9jYXJkcy50cyIsIndlYnBhY2s6Ly8vLi90cy9idXp6b25saW5lX2hlbHBlcnMudHMiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV92YXJzLnRzIiwid2VicGFjazovLy8uL3RzL2J1enpvbmxpbmVfcHJlbG9hZGVyLnRzIiwid2VicGFjazovLy8uL3RzL2J1enpvbmxpbmVfYXVkaW8udHMiLCJ3ZWJwYWNrOi8vLy4vdHMvYnV6em9ubGluZV9odHRwLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwid2luZG93Iiwib25sb2FkIiwiX2UiLCJjYXJkcyIsImNhcmRzdGFjayIsImdlbmVyYXRlIiwiY29uc29sZSIsImxvZyIsImNhcmQiLCJkZWFsIiwiQWlyQ29uc29sZSIsImdldERldmljZUlkIiwibG9hZCIsImpva2VycyIsImNhcmRTdGFjayIsIkFycmF5Iiwic3VpdHMiLCJfdiIsIlNVSVRfQyIsIlNVSVRfRCIsIlNVSVRfSCIsIlNVSVRfUyIsInB1c2giLCJTVUlUX0IiLCJTVUlUX1IiLCJ2YWx1ZXMiLCJmb3JJbmRleCIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJWQUxVX0oiLCJjb2xvciIsIkNPTE9fQiIsIkNPTE9fUiIsImh0bWwiLCJIVE1MX0JPQ0FSRCIsInRvVXBwZXJDYXNlIiwicmFuayIsInRoaXMiLCJfY2FsY3VsYXRlX3JhbmsiLCJzdWl0X2kiLCJzdWl0IiwiX3NodWZmbGUiLCJkZWxldGVDYXJkRnJvbVN0YWNrIiwiZ2V0RnJvbUVuZCIsInBvcCIsInNoaWZ0Iiwic2xpY2UiLCJzdGFjayIsImxlbmd0aCIsImoiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpdGVtcyIsIkNPTlNfRVJSX0FVRElPX05PVF9JTlNUQU5USUFUQUJMRSIsIkFVRElPX0VYVCIsIl9hdWRpb0xvYWRlciIsIl90b0xvYWQiLCJfbG9hZGVkIiwiaW1hZ2VzIiwic291bmRzIiwiX2xvYWRTb3VuZHMiLCJfbG9hZEltYWdlcyIsInBsYXkiLCJwcmVsb2FkIiwiX3VwZGF0ZVByb2dyZXNzQmFyIiwiZXJyb3JmbGciLCJpbWFnZSIsIkltYWdlIiwic3JjIiwib25lcnJvciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwid2lkdGgiLCJpbm5lckhUTUwiLCJfYXVkaW9CdWZmZXIiLCJfYXVkaW9Db250ZXh0IiwiQXVkaW9Db250ZXh0IiwiX2F1ZGlvR2FpbiIsImNyZWF0ZUdhaW4iLCJmaWxlIiwiZmV0Y2giLCJtZXRob2QiLCJ1cmkiLCJyZXNwb25zZVR5cGUiLCJjYXRjaCIsInJlYXNvbiIsImVycm9yIiwiRXJyb3IiLCJyZXNwb25zZSIsImRlY29kZUF1ZGlvRGF0YSIsImJ1ZmZlciIsInJlcGVhdCIsImdhaW4iLCJzb3VyY2UiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzZXRWYWx1ZUF0VGltZSIsImN1cnJlbnRUaW1lIiwibG9vcCIsInN0YXJ0Iiwib3B0aW9ucyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJET05FIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwic3RhdHVzVGV4dCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtCLEVBQUVPLEdBQ3RCWCxPQUFPQyxlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQ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Q2xCSixFQUFJSyxhQUFlTCxFQUFJTSxPQUN2Qk4sRUFBSU8sUUFBVSxLQUFPUCxFQUFJTyxPQUFTLElBQ2pDVCxFQUFnQyxRQUF4QkYsRUFBUWxCLGFBQXlCc0IsRUFBSVEsYUFBZVIsRUFBSWpCLFVBRWhFZ0IsRUFBT0MsRUFBSVMseUJBSS9CLEVBakJBLEciLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL25vZGVfbW9kdWxlcy9haXJjb25zb2xlLXR5cGVzY3JpcHQvYWlyY29uc29sZS10eXBlc2NyaXB0LmQudHNcIiAvPlxuXG4vKipcbiAqIEJ1enpPbmxpbmUgLSBUaGUgQWlyQ29uc29sZSBBZGFwdGFpb25cbiAqIGJ5IFBvd2VyIG9mIEludGVyZXN0IC0gMjAxOVxuICpcbiAqL1xuaW1wb3J0IENhcmRzIGZyb20gXCIuL2J1enpvbmxpbmVfY2FyZHNcIjtcbmltcG9ydCBQcmVsb2FkZXIgZnJvbSBcIi4vYnV6em9ubGluZV9wcmVsb2FkZXJcIjtcblxuXG53aW5kb3cub25sb2FkID0gKF9lOiBFdmVudCkgPT4ge1xuICAgIHZhciBjYXJkcyA9IG5ldyBDYXJkcygpO1xuICAgIHZhciBjYXJkc3RhY2sgPSBjYXJkcy5nZW5lcmF0ZSgpXG4gICAgY29uc29sZS5sb2coY2FyZHN0YWNrKTtcbiAgICB2YXIgY2FyZCA9IGNhcmRzLmRlYWwoY2FyZHN0YWNrKTtcbiAgICBjb25zb2xlLmxvZyhjYXJkLCBjYXJkc3RhY2spO1xuICAgIHZhciBjYXJkID0gY2FyZHMuZGVhbChjYXJkc3RhY2ssIHRydWUpO1xuICAgIGNvbnNvbGUubG9nKGNhcmQsIGNhcmRzdGFjayk7XG4gICAgdmFyIGNhcmQgPSBjYXJkcy5kZWFsKGNhcmRzdGFjaywgZmFsc2UsIHRydWUpO1xuICAgIGNvbnNvbGUubG9nKGNhcmQsIGNhcmRzdGFjayk7XG4gICAgdmFyIGNhcmQgPSBjYXJkcy5kZWFsKGNhcmRzdGFjaywgdHJ1ZSwgdHJ1ZSk7XG4gICAgY29uc29sZS5sb2coY2FyZCwgY2FyZHN0YWNrKTtcblxuICAgIGNvbnN0IGFpcmNvbnNvbGU6IEFpckNvbnNvbGUgPSBuZXcgQWlyQ29uc29sZSgpO1xuICAgIGFpcmNvbnNvbGUuZ2V0RGV2aWNlSWQ7XG4gICAgXG4gICAgY29uc3QgcHJlbG9hZGVyID0gbmV3IFByZWxvYWRlcigpO1xuICAgIHByZWxvYWRlci5sb2FkKFtcbiAgICAgICAgXCJidXp6b25saW5lLUxvZ280eC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9iYWNrLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0MyLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0MzLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M0LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M1LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M2LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M3LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M4LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0M5LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0MxMC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9DMTEucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfQzEyLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0MxMy5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9DMTQucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDIucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDMucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDQucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDUucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDYucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDcucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDgucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDkucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDEwLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0QxMS5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9EMTIucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfRDEzLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0QxNC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IMi5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IMy5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9INC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9INS5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9INi5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9INy5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IOC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IOS5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IMTAucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfSDExLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX0gxMi5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9IMTMucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfSDE0LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1MyLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1MzLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M0LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M1LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M2LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M3LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M4LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1M5LnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1MxMC5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9TMTEucG5nXCIsXG4gICAgICAgIFwiY2FyZHMvYnV6em9ubGluZV9fcGxheWluZ2NhcmRfUzEyLnBuZ1wiLFxuICAgICAgICBcImNhcmRzL2J1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1MxMy5wbmdcIixcbiAgICAgICAgXCJjYXJkcy9idXp6b25saW5lX19wbGF5aW5nY2FyZF9TMTQucG5nXCJcbiAgICBdLCBbXG4gICAgICAgIFwicGxheWVyY29ycmVjdC53YXZcIixcbiAgICAgICAgXCJhc3NpZ25wbGF5ZXIud2F2XCIsXG4gICAgICAgIFwiY29tcGxldGVkaXN0cmlidXRpb24ud2F2XCIsXG4gICAgICAgIFwicGxheWVybWlzc2VkLndhdlwiLFxuICAgICAgICBcInBsYXllcndyb25nLndhdlwiLFxuICAgICAgICBcInN0YXJ0ZGlzdHJpYnV0aW9uLndhdlwiLFxuICAgICAgICBcImJnbXVzaWMud2F2XCJcbiAgICBdKTtcbn1cbiIsImltcG9ydCB7IGZvckluZGV4IH0gZnJvbSBcIi4vYnV6em9ubGluZV9oZWxwZXJzXCI7XG5pbXBvcnQgKiBhcyBfdiBmcm9tIFwiLi9idXp6b25saW5lX3ZhcnNcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi9idXp6b25saW5lX2ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZHMge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbmV3IHNodWZmbGVkIGRlY2sgb2YgY2FyZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2pva2Vycz1mYWxzZV0gQWRkIEpva2VycyB0byB0aGUgZGVjay4gRGVmYXVsdCBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIHtDYXJkW119XG4gICAgICogQG1lbWJlcm9mIENhcmRzXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlKGpva2VyczogYm9vbGVhbiA9IGZhbHNlKTogQ2FyZFtdIHtcbiAgICAgICAgdmFyIGNhcmRTdGFjazogQ2FyZFtdID0gbmV3IEFycmF5KCk7XG5cbiAgICAgICAgLyogRGVjbGFyZSBTdWl0cyAqL1xuICAgICAgICB2YXIgc3VpdHM6IHN0cmluZ1tdID0gW192LlNVSVRfQywgX3YuU1VJVF9ELCBfdi5TVUlUX0gsIF92LlNVSVRfU107XG5cbiAgICAgICAgLyogQWRkIEpva2VycyB0byBzdWl0cyAqL1xuICAgICAgICBpZihqb2tlcnMpXG4gICAgICAgICAgICBzdWl0cy5wdXNoKF92LlNVSVRfQiwgX3YuU1VJVF9SKTtcblxuICAgICAgICAvKiBEZWNsYXJlIFZhbHVlcyAqL1xuICAgICAgICB2YXIgdmFsdWVzOiBudW1iZXJbXSA9IFsyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTRdO1xuXG4gICAgICAgIC8qIGl0ZW06IHN1aXQgKi9cbiAgICAgICAgZm9yKGNvbnN0IHtpdGVtLCBpbmRleH0gb2YgZm9ySW5kZXgoc3VpdHMpKSB7XG4gICAgICAgICAgICBmb3IobGV0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIC8qIFNldCB0aGUgSk9LRVIgdmFsdWUgaWYgdGhlIHN1aXQgaXMgb2YgdHlwZSBqb2tlciAqL1xuICAgICAgICAgICAgICAgIGlmKFtfdi5TVUlUX0IsIF92LlNVSVRfUl0uaW5kZXhPZihpdGVtKSAhPT0gLTEpIHZhbHVlID0gX3YuVkFMVV9KO1xuXG4gICAgICAgICAgICAgICAgLyogUHVzaCB0aGUgY2FyZCBvbnRvIHRoZSBkZWNrICovXG4gICAgICAgICAgICAgICAgY2FyZFN0YWNrLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogW192LlNVSVRfRCwgX3YuU1VJVF9ILCBfdi5TVUlUX1JdLmluZGV4T2YoaXRlbSkgPT0gLTEgPyBfdi5DT0xPX0IgOiBfdi5DT0xPX1IsXG4gICAgICAgICAgICAgICAgICAgIGh0bWw6IGAke192LkhUTUxfQk9DQVJEfSR7aXRlbVswXS50b1VwcGVyQ2FzZSgpfSR7dmFsdWV9YCxcbiAgICAgICAgICAgICAgICAgICAgcmFuazogdGhpcy5fY2FsY3VsYXRlX3JhbmsoeyBzdWl0X2k6IGluZGV4LCB2YWx1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgc3VpdDogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvKiBFbmQgdGhlIGxvb3AgYWZ0ZXIgMSBjYXJkIGlmIEpva2VycyBhcmUgYmVpbmcgZ2VuZXJhdGVkICovXG4gICAgICAgICAgICAgICAgaWYoW192LlNVSVRfQiwgX3YuU1VJVF9SXS5pbmRleE9mKGl0ZW0pICE9PSAtMSkgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NodWZmbGUoY2FyZFN0YWNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWFsIGEgY2FyZCBmcm9tIHRoZSBwcm92aWRlZCBkZWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDYXJkW119IGNhcmRTdGFjayBUaGUgZGVjayB0byBkZWFsIGEgY2FyZCBmcm9tXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVsZXRlQ2FyZEZyb21TdGFjaz1mYWxzZV0gRGVsZXRlIHRoZSBjYXJkIGZyb20gdGhlIGRlY2sgYWZ0ZXIgZGVhbGluZyBpdC4gRGVmYXVsdCBgZmFsc2VgLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2dldEZyb21FbmQ9ZmFsc2VdIEdldCB0aGUgY2FyZCBmcm9tIHRoZSBib3R0b20gKGVuZCkgb2YgdGhlIGRlY2suIERlZmF1bHQgYGZhbHNlYC5cbiAgICAgKiBAcmV0dXJucyB7Q2FyZH0gY2FyZFxuICAgICAqIEBtZW1iZXJvZiBDYXJkc1xuICAgICAqL1xuICAgIHB1YmxpYyBkZWFsKGNhcmRTdGFjazogQ2FyZFtdLCBkZWxldGVDYXJkRnJvbVN0YWNrOiBib29sZWFuID0gZmFsc2UsIGdldEZyb21FbmQ6IGJvb2xlYW4gPSBmYWxzZSk6IENhcmQge1xuICAgICAgICBpZihkZWxldGVDYXJkRnJvbVN0YWNrKVxuICAgICAgICAgICAgcmV0dXJuIGdldEZyb21FbmQgPyBjYXJkU3RhY2sucG9wKCkgOiBjYXJkU3RhY2suc2hpZnQoKTsgICAvL1JlbW92ZXMgdGhlIGNhcmQgZnJvbSB0aGUgc3RhY2sgYXJyYXksIHRoZW4gcmV0dXJucyBpdFxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gZ2V0RnJvbUVuZCA/IGNhcmRTdGFjay5zbGljZSgtMSlbMF0gOiBjYXJkU3RhY2tbMF07IC8vUmV0dXJucyB0aGUgY2FyZCBmcm9tIHRoZSBzdGFjayBhcnJheVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NhbGN1bGF0ZV9yYW5rKHsgc3VpdF9pLCB2YWx1ZSB9OiB7IHN1aXRfaTogbnVtYmVyOyB2YWx1ZTogbnVtYmVyOyB9KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuICg0ICogKHZhbHVlIC0gMikpICsgc3VpdF9pO1xuICAgIH1cblxuICAgIHByaXZhdGUgX3NodWZmbGUoc3RhY2s6IEFycmF5PENhcmQ+KTogQXJyYXk8Q2FyZD4ge1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgICAgW3N0YWNrW2ldLCBzdGFja1tqXV0gPSBbc3RhY2tbal0sIHN0YWNrW2ldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiogZm9ySW5kZXg8VD4oaXRlbXM6IFRbXSB8IEl0ZXJhYmxlSXRlcmF0b3I8VD4pIHtcbiAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XG4gICAgZm9yKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgeWllbGQge2l0ZW0sIGluZGV4fTtcbiAgICAgICAgaW5kZXgrKztcbiAgICB9XG59IiwiLyogVmFyaWFibGVzIHVzZWQgaW4gQnV6ek9ubGluZSAqL1xuXG4vKioqKlxuICAgICpcbiAgICAqXG4gICAgKiBDb25zdGFudHMgLSBUZXh0cywgY29uc3RhbnQgbnVtYmVycyBhbmQgY29uZmlndXJhYmxlIGdhbWUgb3B0aW9uc1xuICAgICpcbiAgICAqXG4qKioqL1xuXG4vKiBTdGFuZGFyZCBUZXh0cyAqL1xuZXhwb3J0IGNvbnN0IFNVSVRfSDogICAgICAgIHN0cmluZyA9IFwiaGVhcnRzXCI7XG5leHBvcnQgY29uc3QgU1VJVF9TOiAgICAgICAgc3RyaW5nID0gXCJzcGFkZXNcIjtcbmV4cG9ydCBjb25zdCBTVUlUX0M6ICAgICAgICBzdHJpbmcgPSBcImNsdWJzXCI7XG5leHBvcnQgY29uc3QgU1VJVF9EOiAgICAgICAgc3RyaW5nID0gXCJkaWFtb25kc1wiO1xuZXhwb3J0IGNvbnN0IFNVSVRfQjogICAgICAgIHN0cmluZyA9IFwiYmxhY2tqb2tlclwiO1xuZXhwb3J0IGNvbnN0IFNVSVRfUjogICAgICAgIHN0cmluZyA9IFwicmVkam9rZXJcIjtcblxuZXhwb3J0IGNvbnN0IENPTE9fUjogICAgICAgIHN0cmluZyA9IFwicmVkXCI7XG5leHBvcnQgY29uc3QgQ09MT19COiAgICAgICAgc3RyaW5nID0gXCJibGFja1wiO1xuXG5leHBvcnQgY29uc3QgVkFMVV9KOiAgICAgICAgbnVtYmVyID0gMTQ7XG5cbmV4cG9ydCBjb25zdCBIVE1MX0JPQ0FSRDogICBzdHJpbmcgPSBcImJ1enpvbmxpbmVfX3BsYXlpbmdjYXJkX1wiO1xuXG4vKiBQbGF5ZXIgUHJvbXB0cyAqL1xuXG4vKiBDb25zb2xlIFByb21wdHMgLyBEZWJ1Z2dpbmcgKi9cbmV4cG9ydCBjb25zdCBDT05TX0VSUl9BVURJT19OT1RfSU5TVEFOVElBVEFCTEU6IHN0cmluZyA9IFwiQ291bGQgbm90IGluc3RhbnRpYXRlIGF1ZGlvIGVuZ2luZS4gQXVkaW8gaXMgbm90IHN1cHBvcnRlZC5cIjtcblxuLyogR2FtZSBPcHRpb25zICovXG5leHBvcnQgY29uc3QgQVVESU9fRVhUID0gJ3dhdic7XG4iLCJpbXBvcnQgQXVkaW8gZnJvbSBcIi4vYnV6em9ubGluZV9hdWRpb1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcmVsb2FkZXIge1xuICAgIHByaXZhdGUgX2F1ZGlvTG9hZGVyOiBBdWRpbztcbiAgICBwcml2YXRlIF90b0xvYWQ6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sb2FkZWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9hdWRpb0xvYWRlciA9IG5ldyBBdWRpbztcbiAgICAgICAgdGhpcy5fdG9Mb2FkID0gdGhpcy5fbG9hZGVkID0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgbG9hZChpbWFnZXM6IEFycmF5PHN0cmluZz4sIHNvdW5kczogQXJyYXk8c3RyaW5nPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICB0aGlzLl90b0xvYWQgPSBpbWFnZXMubGVuZ3RoICsgc291bmRzLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgIGlmKGF3YWl0IHRoaXMuX2xvYWRTb3VuZHMoc291bmRzKSA9PSBmYWxzZSB8fCBhd2FpdCB0aGlzLl9sb2FkSW1hZ2VzKGltYWdlcykgPT0gZmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgLy8gU3RhcnQgdGhlIGJhY2tncm91bmQgbXVzaWMgYXMgc29vbiBhcyBhbGwgZmlsZXMgaGF2ZSBiZWVuIGxvYWRlZFxuICAgICAgICBcbiAgICAgICAgLy8gTm90ZTogV2lsbCBvbmx5IHdvcmsgaW4gYW4gaWZyYW1lIHdpbmRvdyB3aXRoIGF1dG9wbGF5aW5nIG9uLiBcbiAgICAgICAgLy8gQXVkaW9Db250ZXh0IHN0YXJ0cyBpbiBzdXNwZW5kZWQgbW9kZSBvbiBhIHJlZ3VsYXIgd2VicGFnZSBcbiAgICAgICAgLy8gKGluIENocm9tZSBiZWNhdXNlIG9mIGF1dG9wbGF5IHBvbGljeSlcbiAgICAgICAgaWYodGhpcy5fbG9hZGVkID09IHRoaXMuX3RvTG9hZClcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvTG9hZGVyLnBsYXkoXCJiZ211c2ljLndhdlwiLCB0cnVlLCAxKTtcblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkU291bmRzKHNvdW5kczogQXJyYXk8c3RyaW5nPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGZvcihsZXQgcyBvZiBzb3VuZHMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2F1ZGlvTG9hZGVyLnByZWxvYWQocykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkZWQrKztcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpO1xuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIF9sb2FkSW1hZ2VzKGltYWdlczogQXJyYXk8c3RyaW5nPik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgICAgICBsZXQgZXJyb3JmbGc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICAgICAgZm9yKGxldCBpIG9mIGltYWdlcykge1xuICAgICAgICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBgLi9kaXN0L2ltZy8ke2l9YDtcblxuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHtlcnJvcmZsZyA9IHRydWU7fVxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRlZCsrO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzQmFyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy9SZXR1cm5zIHRydWUgaWYgbm8gZXJyb3JzIG9jY3VyZWRcbiAgICAgICAgcmV0dXJuICFlcnJvcmZsZztcbiAgICB9XG5cbiAgICBwcml2YXRlIF91cGRhdGVQcm9ncmVzc0JhcigpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZSA9IDxIVE1MRWxlbWVudD5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyLS1pbm5lcicpO1xuICAgICAgICBlLnN0eWxlLndpZHRoID0gKDEwMCAqICh0aGlzLl9sb2FkZWQgLyB0aGlzLl90b0xvYWQpKSArICclJztcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvYWRlci0tdGV4dCcpLmlubmVySFRNTCA9IGBMb2FkaW5nLi4uICR7dGhpcy5fbG9hZGVkfS8ke3RoaXMuX3RvTG9hZH1gO1xuICAgIH1cbn0iLCJcbmltcG9ydCAqIGFzIF92IGZyb20gXCIuL2J1enpvbmxpbmVfdmFyc1wiO1xuaW1wb3J0IEh0dHAgZnJvbSBcIi4vYnV6em9ubGluZV9odHRwXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1ZGlvIHtcbiAgICBwcml2YXRlIF9hdWRpb0NvbnRleHQ6IEF1ZGlvQ29udGV4dDtcbiAgICBwcml2YXRlIF9hdWRpb0dhaW46IEdhaW5Ob2RlO1xuICAgIHByaXZhdGUgX2F1ZGlvQnVmZmVyOiBBcnJheTxBdWRpb0J1ZmZlcj4gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9hdWRpb0NvbnRleHQgPSBuZXcgQXVkaW9Db250ZXh0KCk7XG4gICAgICAgIHRoaXMuX2F1ZGlvR2FpbiA9IHRoaXMuX2F1ZGlvQ29udGV4dC5jcmVhdGVHYWluKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJlbG9hZCBhIGZpbGUgZnJvbSB0aGUgbG9jYWwgZ2FtZSBkYXRhIGludG8gdGhlIGF1ZGlvIGJ1ZmZlci5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZmlsZSBUaGUgbmFtZSBvZiB0aGUgYXVkaW8gZmlsZSB0byBsb2FkLiBGaWxlIGV4dGVuc2lvbiBtdXN0IGJlIGluY2x1ZGVkLiBGaWxlcyBnZXQgbG9hZGVkIGZyb20gYC4vZGlzdC9hdWRpb2BcbiAgICAgKi9cbiAgICBwdWJsaWMgYXN5bmMgcHJlbG9hZChmaWxlOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICAgICAgLy9Db25uZWN0IHRvIHRoZSBIdHRwIGNsYXNzIHRvIGZldGNoIGEgZmlsZSBmcm9tIHRoZSBsb2NhbCBnYW1lIGRhdGFcbiAgICAgICAgdmFyIHJlc3BvbnNlOiBBcnJheUJ1ZmZlciA9IGF3YWl0IG5ldyBIdHRwKCkuZmV0Y2goe1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIHVyaTogYC4vZGlzdC9hdWRpby8ke2ZpbGV9YCxcbiAgICAgICAgICAgIHJlc3BvbnNlVHlwZTogXCJhcnJheWJ1ZmZlclwiXG4gICAgICAgIH0pLmNhdGNoKChyZWFzb24pID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGZldGNoaW5nIHRoZSBhdWRpbyBmaWxlLlwiKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9EZWNvZGUgdGhlIGZldGNoZWQgZGF0YSBhbmQgcGxhY2UgaXQgaW4gdGhlIGJ1ZmZlclxuICAgICAgICB0aGlzLl9hdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKHJlc3BvbnNlLCAoYnVmZmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb0J1ZmZlci5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQbGF5IGEgZmlsZSBpbiB0aGUgYnVmZmVyLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgZmlsZSAgICBUaGUgbmFtZSBvZiB0aGUgZmlsZSB0byBwbGF5LiBGaWxlIGV4dGVuc2lvbiBtdXN0IGJlIGluY2x1ZGVkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwZWF0ICBMb29wIHRoZSBhdWRpbyB3aGVuIGl0IHJlYWNoZXMgdGhlIGVuZC4gRGVmYXVsdCBgZmFsc2VgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSAgZ2FpbiAgICBHYWluIGNvbnRyb2wgZm9yIHRoZSBnbG9hYmFsIGF1ZGlvIGNvbnRleHQuIERlZmF1bHQgMC4yXG4gICAgICovXG4gICAgcHVibGljIHBsYXkoZmlsZTogc3RyaW5nLCByZXBlYXQ6IGJvb2xlYW4gPSBmYWxzZSwgZ2FpbjogbnVtYmVyID0gMC4yKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLl9hdWRpb0NvbnRleHQuY3JlYXRlQnVmZmVyU291cmNlKCk7XG4gICAgICAgIHNvdXJjZS5idWZmZXIgPSB0aGlzLl9hdWRpb0J1ZmZlcltgJHtmaWxlfWBdO1xuICAgICAgICBzb3VyY2UuY29ubmVjdCh0aGlzLl9hdWRpb0dhaW4pO1xuICAgICAgICB0aGlzLl9hdWRpb0dhaW4uY29ubmVjdCh0aGlzLl9hdWRpb0NvbnRleHQuZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLl9hdWRpb0dhaW4uZ2Fpbi5zZXRWYWx1ZUF0VGltZShnYWluLCB0aGlzLl9hdWRpb0NvbnRleHQuY3VycmVudFRpbWUpO1xuXG4gICAgICAgIGlmKHJlcGVhdClcbiAgICAgICAgICAgIHNvdXJjZS5sb29wID0gdHJ1ZTtcblxuICAgICAgICBzb3VyY2Uuc3RhcnQoMCk7XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgSHR0cE9wdGlvbnMgfSBmcm9tIFwiLi9idXp6b25saW5lX2ludGVyZmFjZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSHR0cCB7XG4gICAgcHVibGljIGFzeW5jIGZldGNoKG9wdGlvbnM6IEh0dHBPcHRpb25zKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPGFueT4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gb3B0aW9ucy5yZXNwb25zZVR5cGU7XG4gICAgICAgICAgICB4aHIub3BlbihvcHRpb25zLm1ldGhvZCwgb3B0aW9ucy51cmksIHRydWUpO1xuICAgICAgICAgICAgeGhyLnNlbmQoKTtcblxuICAgICAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZih4aHIucmVhZHlTdGF0ZSAhPT0geGhyLkRPTkUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZih4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9wdGlvbnMucmVzcG9uc2VUeXBlID09IFwidGV4dFwiID8geGhyLnJlc3BvbnNlVGV4dCA6IHhoci5yZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZWplY3QoeGhyLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==